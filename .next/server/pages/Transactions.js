"use strict";(()=>{var a={};a.id=403,a.ids=[220,403],a.modules={361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},802:a=>{a.exports=import("clsx")},2015:a=>{a.exports=require("react")},2549:a=>{a.exports=import("@radix-ui/react-avatar")},3020:a=>{a.exports=import("@radix-ui/react-dialog")},3064:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>p});var e=c(8732),f=c(2015),g=c(9655),h=c(6345),i=c(4720),j=c(5148),k=c(8059),l=c(7049),m=c(4952),n=c(6569),o=a([g,h,i,j,k,l]);[g,h,i,j,k,l]=o.then?(await o)():o;let p=()=>{let{toast:a}=(0,n.dj)(),[b,c]=(0,f.useState)([]),[d,o]=(0,f.useState)([]),[p,q]=(0,f.useState)(""),[r,s]=(0,f.useState)("all"),[t,u]=(0,f.useState)("all"),[v,w]=(0,f.useState)(!0);(0,f.useEffect)(()=>{setTimeout(()=>{let a=[{id:"TX789012",type:"exchange",status:"completed",fromCurrency:"USD",toCurrency:"RMB",fromAmount:1500,toAmount:10950,exchangeRate:7.3,fee:3,timestamp:new Date(Date.now()-3e5).toISOString(),processingTime:45,blockchainTxId:"0x8f3cf7ad51cb2cc8df4a...",counterparty:"Bank of China"},{id:"TX789011",type:"exchange",status:"pending",fromCurrency:"RUB",toCurrency:"USD",fromAmount:5e4,toAmount:520,exchangeRate:.0104,fee:10,timestamp:new Date(Date.now()-18e5).toISOString(),processingTime:0,notes:"Waiting for compliance verification"},{id:"TX789010",type:"transfer",status:"completed",fromCurrency:"USDT",toCurrency:"USDT",fromAmount:2e3,toAmount:2e3,exchangeRate:1,fee:1,timestamp:new Date(Date.now()-36e5).toISOString(),processingTime:30,blockchainTxId:"0x742d35cc6bf326...9bc168e",counterparty:"0x8f3C...Cc8"},{id:"TX789009",type:"exchange",status:"failed",fromCurrency:"RMB",toCurrency:"USD",fromAmount:5e3,toAmount:0,exchangeRate:.137,fee:0,timestamp:new Date(Date.now()-72e5).toISOString(),processingTime:0,notes:"Insufficient liquidity"},{id:"TX789008",type:"deposit",status:"completed",fromCurrency:"USD",toCurrency:"USD",fromAmount:1e4,toAmount:1e4,exchangeRate:1,fee:0,timestamp:new Date(Date.now()-864e5).toISOString(),processingTime:120,blockchainTxId:"0x1a2b3c4d5e6f...",counterparty:"JPMorgan Chase"}];c(a),o(a),w(!1)},1e3)},[]),(0,f.useEffect)(()=>{let a=b;p&&(a=a.filter(a=>a.id.toLowerCase().includes(p.toLowerCase())||a.fromCurrency.toLowerCase().includes(p.toLowerCase())||a.toCurrency.toLowerCase().includes(p.toLowerCase())||a.counterparty?.toLowerCase().includes(p.toLowerCase()))),"all"!==r&&(a=a.filter(a=>a.status===r)),"all"!==t&&(a=a.filter(a=>a.type===t)),o(a)},[b,p,r,t]);let x=b=>{navigator.clipboard.writeText(b),a({title:"已复制",description:"内容已复制到剪贴板"})};return v?(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h1",{className:"text-3xl font-bold",children:"交易历史"}),(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsx)("div",{className:"h-10 w-32 bg-muted animate-pulse rounded"}),(0,e.jsx)("div",{className:"h-10 w-24 bg-muted animate-pulse rounded"})]})]}),(0,e.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(a=>(0,e.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},a))})]}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-3xl font-bold",children:"交易历史"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"查看和管理您的所有交易记录"})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsxs)(h.$,{variant:"outline",onClick:()=>{a({title:"导出完成",description:"交易记录已导出为CSV文件"})},children:[(0,e.jsx)(m.f5X,{className:"h-4 w-4 mr-2"}),"导出"]}),(0,e.jsxs)(h.$,{onClick:()=>window.location.reload(),children:[(0,e.jsx)(m.e9t,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]}),(0,e.jsx)(g.Zp,{children:(0,e.jsx)(g.Wu,{className:"p-6",children:(0,e.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(m.vji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,e.jsx)(k.p,{placeholder:"搜索交易ID、货币或交易对手...",value:p,onChange:a=>q(a.target.value),className:"pl-10"})]})}),(0,e.jsxs)(l.l6,{value:r,onValueChange:s,children:[(0,e.jsx)(l.bq,{className:"w-full md:w-40",children:(0,e.jsx)(l.yv,{placeholder:"状态"})}),(0,e.jsxs)(l.gC,{children:[(0,e.jsx)(l.eb,{value:"all",children:"全部状态"}),(0,e.jsx)(l.eb,{value:"completed",children:"已完成"}),(0,e.jsx)(l.eb,{value:"pending",children:"处理中"}),(0,e.jsx)(l.eb,{value:"failed",children:"失败"}),(0,e.jsx)(l.eb,{value:"cancelled",children:"已取消"})]})]}),(0,e.jsxs)(l.l6,{value:t,onValueChange:u,children:[(0,e.jsx)(l.bq,{className:"w-full md:w-40",children:(0,e.jsx)(l.yv,{placeholder:"类型"})}),(0,e.jsxs)(l.gC,{children:[(0,e.jsx)(l.eb,{value:"all",children:"全部类型"}),(0,e.jsx)(l.eb,{value:"exchange",children:"兑换"}),(0,e.jsx)(l.eb,{value:"transfer",children:"转账"}),(0,e.jsx)(l.eb,{value:"deposit",children:"存入"}),(0,e.jsx)(l.eb,{value:"withdraw",children:"提取"})]})]})]})})}),(0,e.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,e.jsx)(g.Zp,{children:(0,e.jsx)(g.Wu,{className:"p-4",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-2xl font-bold",children:b.length}),(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:"总交易数"})]})})}),(0,e.jsx)(g.Zp,{children:(0,e.jsx)(g.Wu,{className:"p-4",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-success",children:b.filter(a=>"completed"===a.status).length}),(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:"成功交易"})]})})}),(0,e.jsx)(g.Zp,{children:(0,e.jsx)(g.Wu,{className:"p-4",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-warning",children:b.filter(a=>"pending"===a.status).length}),(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:"处理中"})]})})}),(0,e.jsx)(g.Zp,{children:(0,e.jsx)(g.Wu,{className:"p-4",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("div",{className:"text-2xl font-bold",children:["$",b.filter(a=>"completed"===a.status).reduce((a,b)=>a+b.fromAmount,0).toLocaleString()]}),(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:"总交易量"})]})})})]}),(0,e.jsx)("div",{className:"space-y-4",children:0===d.length?(0,e.jsx)(g.Zp,{children:(0,e.jsxs)(g.Wu,{className:"py-12 text-center",children:[(0,e.jsx)(m.e9t,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-medium mb-2",children:"暂无交易记录"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:p||"all"!==r||"all"!==t?"没有匹配的交易记录，请调整搜索条件":"您还没有进行任何交易"})]})}):d.map(a=>{let b;return(0,e.jsx)(g.Zp,{className:"hover:shadow-md transition-shadow",children:(0,e.jsxs)(g.Wu,{className:"p-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(a=>{switch(a){case"exchange":return(0,e.jsx)(m.e9t,{className:"h-4 w-4"});case"transfer":case"withdraw":return(0,e.jsx)(m.F1e,{className:"h-4 w-4"});case"deposit":return(0,e.jsx)(m.PS$,{className:"h-4 w-4"})}})(a.type)}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("h3",{className:"font-medium",children:a.id}),(0,e.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>x(a.id),children:(0,e.jsx)(m.QRo,{className:"h-3 w-3"})})]}),(0,e.jsxs)("p",{className:"text-sm text-muted-foreground",children:[{exchange:"兑换",transfer:"转账",deposit:"存入",withdraw:"提取"}[a.type]," • ",(b=a.timestamp,new Date(b).toLocaleString("zh-CN"))]})]})]}),(a=>(0,e.jsxs)(i.E,{variant:{completed:"default",pending:"secondary",failed:"destructive",cancelled:"outline"}[a],className:"flex items-center space-x-1",children:[(a=>{switch(a){case"completed":return(0,e.jsx)(m.rAV,{className:"h-4 w-4 text-success"});case"pending":return(0,e.jsx)(m.zD7,{className:"h-4 w-4 text-warning"});case"failed":return(0,e.jsx)(m.hcu,{className:"h-4 w-4 text-destructive"});case"cancelled":return(0,e.jsx)(m.hcu,{className:"h-4 w-4 text-muted-foreground"})}})(a),(0,e.jsx)("span",{children:{completed:"已完成",pending:"处理中",failed:"失败",cancelled:"已取消"}[a]})]}))(a.status)]}),(0,e.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"发送"}),(0,e.jsxs)("p",{className:"font-medium",children:[a.fromAmount.toLocaleString()," ",a.fromCurrency]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"接收"}),(0,e.jsxs)("p",{className:"font-medium",children:[a.toAmount.toLocaleString()," ",a.toCurrency]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"汇率"}),(0,e.jsxs)("p",{className:"font-medium",children:["1 ",a.fromCurrency," = ",a.exchangeRate," ",a.toCurrency]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"手续费"}),(0,e.jsxs)("p",{className:"font-medium",children:[a.fee.toFixed(2)," ",a.fromCurrency]})]})]}),(a.processingTime>0||a.blockchainTxId||a.counterparty||a.notes)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j.w,{className:"my-4"}),(0,e.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[a.processingTime>0&&(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"处理时间"}),(0,e.jsxs)("p",{className:"text-sm",children:[a.processingTime,"秒"]})]}),a.blockchainTxId&&(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"区块链交易ID"}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsxs)("p",{className:"text-sm font-mono",children:[a.blockchainTxId.substring(0,16),"..."]}),(0,e.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>x(a.blockchainTxId),children:(0,e.jsx)(m.QRo,{className:"h-3 w-3"})}),(0,e.jsx)(h.$,{variant:"ghost",size:"sm",children:(0,e.jsx)(m.GrD,{className:"h-3 w-3"})})]})]}),a.counterparty&&(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"交易对手"}),(0,e.jsx)("p",{className:"text-sm",children:a.counterparty})]}),a.notes&&(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"备注"}),(0,e.jsx)("p",{className:"text-sm",children:a.notes})]})]})]})]})},a.id)})})]})};d()}catch(a){d(a)}})},3873:a=>{a.exports=require("path")},4329:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>i});var e=c(8732),f=c(3064),g=c(9444),h=a([f,g]);[f,g]=h.then?(await h)():h;let i=()=>(0,e.jsxs)("div",{className:"min-h-screen bg-gradient-subtle",children:[(0,e.jsx)(g.A,{}),(0,e.jsx)("main",{className:"container mx-auto py-8",children:(0,e.jsx)(f.A,{})})]});d()}catch(a){d(a)}})},4822:a=>{a.exports=require("react-router-dom")},5979:a=>{a.exports=import("tailwind-merge")},6060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},6307:a=>{a.exports=import("@radix-ui/react-dropdown-menu")},6569:(a,b,c)=>{c.d(b,{dj:()=>l});var d=c(2015);let e=0,f=new Map,g=a=>{if(f.has(a))return;let b=setTimeout(()=>{f.delete(a),j({type:"REMOVE_TOAST",toastId:a})},1e6);f.set(a,b)},h=[],i={toasts:[]};function j(a){i=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?g(c):a.toasts.forEach(a=>{g(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(i,a),h.forEach(a=>{a(i)})}function k({...a}){let b=(e=(e+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>j({type:"DISMISS_TOAST",toastId:b});return j({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>j({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function l(){let[a,b]=d.useState(i);return d.useEffect(()=>(h.push(b),()=>{let a=h.indexOf(b);a>-1&&h.splice(a,1)}),[a]),{...a,toast:k,dismiss:a=>j({type:"DISMISS_TOAST",toastId:a})}}},7049:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var e=c(8732),f=c(2015),g=c(7860),h=c(4952),i=c(7092),j=a([g,i]);[g,i]=j.then?(await j)():j;let k=g.Root;g.Group;let l=g.Value,m=f.forwardRef(({className:a,children:b,...c},d)=>(0,e.jsxs)(g.Trigger,{ref:d,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,e.jsx)(g.Icon,{asChild:!0,children:(0,e.jsx)(h.yQN,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=g.Trigger.displayName;let n=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.ScrollUpButton,{ref:c,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,e.jsx)(h.rXn,{className:"h-4 w-4"})}));n.displayName=g.ScrollUpButton.displayName;let o=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.ScrollDownButton,{ref:c,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,e.jsx)(h.yQN,{className:"h-4 w-4"})}));o.displayName=g.ScrollDownButton.displayName;let p=f.forwardRef(({className:a,children:b,position:c="popper",...d},f)=>(0,e.jsx)(g.Portal,{children:(0,e.jsxs)(g.Content,{ref:f,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...d,children:[(0,e.jsx)(n,{}),(0,e.jsx)(g.Viewport,{className:(0,i.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,e.jsx)(o,{})]})}));p.displayName=g.Content.displayName,f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Label,{ref:c,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=g.Label.displayName;let q=f.forwardRef(({className:a,children:b,...c},d)=>(0,e.jsxs)(g.Item,{ref:d,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),...c,children:[(0,e.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,e.jsx)(g.ItemIndicator,{children:(0,e.jsx)(h.Jlk,{className:"h-4 w-4"})})}),(0,e.jsx)(g.ItemText,{children:b})]}));q.displayName=g.Item.displayName,f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Separator,{ref:c,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=g.Separator.displayName,d()}catch(a){d(a)}})},7860:a=>{a.exports=import("@radix-ui/react-select")},7897:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(3885),f=c(237),g=c(1413),h=c(5611),i=c.n(h),j=c(625),k=c.n(j),l=c(4329),m=c(2289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/Transactions",pathname:"/Transactions",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/Transactions",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})},8059:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{p:()=>i});var e=c(8732),f=c(2015),g=c(7092),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,type:b,...c},d)=>(0,e.jsx)("input",{type:b,className:(0,g.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:d,...c}));i.displayName="Input",d()}catch(a){d(a)}})},8732:a=>{a.exports=require("react/jsx-runtime")},8827:a=>{a.exports=import("@radix-ui/react-separator")},8938:a=>{a.exports=import("class-variance-authority")},9640:a=>{a.exports=import("@radix-ui/react-slot")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[611,157,952,914],()=>b(b.s=7897));module.exports=c})();